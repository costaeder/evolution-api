# ============================================
# Evolution API - Configuração de Desenvolvimento
# ============================================
# Version: custom-2.3.4-0
# Database: PostgreSQL + Redis externos (192.168.100.154)
# ============================================

# ============================================
# SERVIDOR E API
# ============================================
SERVER_NAME=evolution-dev
SERVER_TYPE=http
SERVER_PORT=8080
SERVER_URL=http://localhost:8080

# Desabilitar SSL em dev
SSL_CONF_PRIVKEY=
SSL_CONF_FULLCHAIN=

# ============================================
# AUTENTICAÇÃO
# ============================================
# IMPORTANTE: Gere uma chave única para dev
# Linux/Mac: openssl rand -hex 16
# Windows: [System.Convert]::ToBase64String([System.Security.Cryptography.RandomNumberGenerator]::GetBytes(16))
AUTHENTICATION_API_KEY=dev_SUBSTITUA_POR_UMA_CHAVE_SEGURA

# ============================================
# DATABASE - PostgreSQL Externo
# ============================================
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_URI=postgresql://desenv:Desenv*123@192.168.100.154:5432/zyra_9232?schema=public
DATABASE_CONNECTION_CLIENT_NAME=evolution_dev

# Salvar dados no banco
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_DATA_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true

# ============================================
# REDIS - Cache Externo
# ============================================
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=redis://192.168.100.154:6379
CACHE_REDIS_PREFIX_KEY=evolution_dev
CACHE_REDIS_SAVE_INSTANCES=false

# ============================================
# LOGS - Verbose em DEV
# ============================================
LOG_LEVEL=ERROR,WARN,DEBUG,INFO,LOG,VERBOSE
LOG_COLOR=true
LOG_BAILEYS=error

# ============================================
# ERROR RECOVERY (Controlled Suicide)
# ============================================
EXIT_ON_FATAL=true
FATAL_ERROR_THRESHOLD=3

# ============================================
# EVENTOS - Desabilitar em DEV para simplificar
# ============================================
RABBITMQ_ENABLED=false
KAFKA_ENABLED=false
WEBSOCKET_ENABLED=false

# ============================================
# S3 - Desabilitado em DEV (usar local)
# ============================================
S3_ENABLED=false
# Se precisar habilitar, configure:
# S3_ACCESS_KEY=
# S3_SECRET_KEY=
# S3_BUCKET=
# S3_ENDPOINT=
# S3_REGION=
# S3_SKIP_POLICY=true

# ============================================
# CHATWOOT - Desabilitado por padrão
# ============================================
CHATWOOT_ENABLED=false
# Se precisar importar histórico:
# CHATWOOT_IMPORT_DATABASE_CONNECTION_URI=postgresql://postgres:senha@192.168.100.154:5432/chatwoot?sslmode=disable

# ============================================
# MÉTRICAS E TELEMETRIA - Desabilitado em DEV
# ============================================
PROMETHEUS_METRICS=false
TELEMETRY_ENABLED=false

# ============================================
# CORS - Aberto para dev local
# ============================================
CORS_ORIGIN=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_CREDENTIALS=true

# ============================================
# INSTÂNCIAS
# ============================================
# Não deletar instâncias automaticamente em dev
DEL_INSTANCE=false

# ============================================
# PROXY (se necessário)
# ============================================
PROXY_HOST=
PROXY_PORT=
PROXY_PROTOCOL=
PROXY_USERNAME=
PROXY_PASSWORD=

# ============================================
# OUTROS
# ============================================
# Listeners para eventos
EVENT_EMITTER_MAX_LISTENERS=50

# Sentry (desabilitar em dev)
SENTRY_DSN=

# Audio converter (opcional)
API_AUDIO_CONVERTER=
API_AUDIO_CONVERTER_KEY=
